@using NoteWebApp.Models
@{
    ViewBag.Title = "Index";
    var shortcuts = ViewBag.shortcuts;
}

<h2>바로가기</h2>

<p id="selectlist">
    @using (Html.BeginForm("NoteList", "Note", FormMethod.Get))
    {
        @Html.DropDownList("orders", new SelectListItem[]{
        new SelectListItem() { Text = "설정", Value = ""},
        new SelectListItem() { Text = "만든날짜(오래된 순으로)", Value = "0"},
        new SelectListItem() { Text = "만든날짜(최근 순으로)", Value = "1"},
        new SelectListItem() { Text = "제목(오름차순)", Value = "2"},
        new SelectListItem() { Text = "제목(내림차순)", Value = "3"}
       }, new { onchange="Callfunc(this.value)" })
    }
</p>

<div class="notelist">
    @foreach (var item in shortcuts)
    {
        <ul>
            <li>

                @if (item.GetType().Name == "Note")
                {
                    <button id="list" onclick="notedetail(@item.NoteId)" value="@item.NoteId">@item.Title</button>
                }

                @if (item.GetType().Name == "NoteBook")
                {

                    String NoteBookName = item.Name;
                    String NoteBookId = item.NoteBookId.ToString();
                    @Html.ActionLink(NoteBookName, "../notebook/List", new { id = NoteBookId })

                }
                <hr />

            </li>
        </ul>
    }
</div>
<div id="noteDetail">

</div>
<script>
    var url = '@Url.Action("Detail", "Note")';
    document.getElementById("noteDetail").innerHTML = initDetail();

    function notedetail(noteid){
        $('#noteDetail').load(url, { selectedNoteid: noteid });
    }
</script>

